<div class="row">
    <div class="col-lg-6 col-md-6">
        <h2 class="withlead">Listado de Ingredientes</h2>
        <p class="lead"></p>
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- <form class="navbar-form pull-right">
            <div class="input-group">
                <input type="search" name="search" class="form-control mayusculas" placeholder="Busqueda"
                       value="{{ filtro }}"/>
                <span class="input-group-btn">
                    {% if filtro %}
                        <button type="button" class="btn btn-danger" id="todos"><i
                                class="fa fa-refresh"></i></button>{% endif %}
                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i> Buscar</button>
                </span>
            </div>
        </form> -->
    </div>

</div>
<div class="row spacedown">
    <div class="col-lg-5 col-md-5">      
      <a [routerLink]="['/ingredients/create']" class="btn btn-primary"><i class="fa fa-plus-circle fa-green"></i>
          Registrar Ingrediente</a>
    </div>    
</div>
<br>
<div class="row">
  <div class="col-lg-12">
    <div class="table-responsive">
      <table class="table table-hover table-condensed table-striped">
        <thead>
          <tr>
            <th scope="col" style="width: 5%">#</th>
            <th scope="col" style="width: 40%">Name</th>
            <th scope="col" style="width: 40%;">Medicamento</th>
            <th scope="col" style="width: 15%;"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="!ingredientes || (ingredientes && ingredientes.length == 0)">
            <td colspan="4" style="text-align: center;"> {{message}} </td>
          </tr>
          <tr *ngFor="let ing of ingredientes; index as i" >
            <th scope="row">{{ i + 1 }}</th>  
            <td>{{ ing.name}}</td>
            <td> 
              {{ ing.medicamento ? ing.medicamento.name : ''}}            
            </td>
            <td>        
              <div class="dropdown" >
                <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
                    Acciones 
                </button>
                <div class="dropdown-menu">
                  <a class="dropdown-item" [routerLink]="['/ingredients/edit/', ing._id]">Modificar</a>
                  <a class="dropdown-item" [routerLink]="" (click)="verDetalle(ing)">Ver Detalle</a>
                  <div class="dropdown-divider"></div> 
                  <a class="dropdown-item" [routerLink]="" (click)="delete(ing._id)">Eliminar</a>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<br>
<div class="row" *ngIf="ingrediente" style="padding-left: 50px;">
  <div class="col-lg-12">
    <button class="btn btn-danger" (click)="ocultarDetalle()"> Ocultar detalle</button>    
  </div>
  <div class="col-lg-12">
    <app-ingrediente-detalle          
          [ingrediente] = 'ingrediente'
    ></app-ingrediente-detalle>
  </div>
</div>